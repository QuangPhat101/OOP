#  PROOF OF CONCEPT & PROJECT PROPOSAL

## 1. THÃ”NG TIN 

**Äá» tÃ i**: Chatbot Há»— Trá»£ Há»c Láº­p TrÃ¬nh báº±ng C++ thÃ´ng qua Ollama (GPT-OSS:20B)  
**Thá»i gian thá»±c hiá»‡n:** 6 tuáº§n (tá»« 18/11/2025 Ä‘áº¿n 18/12/2025)   
**NgÆ°á»i thá»±c hiá»‡n:** Nguyá»…n Quang PhÃ¡t  
**MSSV:** 24120117

---

## 2. TÃŠN Äá»€ TÃ€I

**"AI Coding Assistant - Chatbot Há»— Trá»£ Há»c Láº­p TrÃ¬nh"**

Chatbot AI giÃºp ngÆ°á»i dÃ¹ng há»c láº­p trÃ¬nh, tráº£ lá»i cÃ¢u há»i vá» code, giáº£i thÃ­ch thuáº­t toÃ¡n vá»›i **streaming response real-time**.

---

## 3. DANH SÃCH CÃC CHá»¨C NÄ‚NG Dá»° KIáº¾N VÃ€ TIMEFRAME Dá»° KIáº¾N

Thá»i gian thá»±c hiá»‡n: **Tuáº§n 1** (tá»« ngÃ y 18/11) -> **Tuáº§n 6** (Háº¿t ngÃ y 17/12)

| Chá»©c nÄƒng (Feature) | Chi tiáº¿t chá»©c nÄƒng | Tuáº§n dá»± kiáº¿n hoÃ n thÃ nh | Ghi chÃº & LiÃªn káº¿t Flowchart |
| :--- | :--- | :--- | :--- |
| **I. Thiáº¿t láº­p Há»‡ thá»‘ng & Káº¿t ná»‘i (Ná»n táº£ng)** | Khá»Ÿi táº¡o server vÃ  káº¿t ná»‘i API | 1-2 | **THIáº¾T Láº¬P Káº¾T Ná»I VÃ€ PHIÃŠN CHAT** |
| 1. Khá»Ÿi táº¡o káº¿t ná»‘i vá»›i Ollama API | Setup OllamaClient, káº¿t ná»‘i qua ngrok tunnel | 1-2 | Ã” "Khá»Ÿi táº¡o káº¿t ná»‘i vá»›i AI server Ollama..." |
| 2. Táº¡o phiÃªn chat má»›i | Khá»Ÿi táº¡o ChatSession, lá»‹ch sá»­ rá»—ng, hiá»ƒn thá»‹ giao diá»‡n | 2 | Ã” "Táº¡o phiÃªn chat má»›i vá»›i lá»‹ch sá»­ rá»—ng..." |
| --- | --- | --- | --- |
| **II. Xá»­ lÃ½ Input & Quáº£n lÃ½ Lá»‡nh (Giao tiáº¿p)** | Nháº­n vÃ  phÃ¢n loáº¡i input tá»« ngÆ°á»i dÃ¹ng | 2-3 | **VÃ’NG Láº¶P CHÃNH & Xá»¬ LÃ Lá»†NH** |
| 3. Nháº­n input tá»« ngÆ°á»i dÃ¹ng | Implement vÃ²ng láº·p chÃ­nh, getline, xá»­ lÃ½ whitespace | 2 | Ã” "Nháº­n input" (vÃ²ng láº·p chÃ­nh) |
| 4. PhÃ¢n loáº¡i loáº¡i input | Logic phÃ¢n biá»‡t lá»‡nh Ä‘áº·c biá»‡t vs cÃ¢u há»i | 2-3 | Decision â—‡ "PhÃ¢n tÃ­ch loáº¡i input nháº­n vÃ o" |
| 5. Há»‡ thá»‘ng lá»‡nh Ä‘áº·c biá»‡t | Xá»­ lÃ½ /exit, /help, /clear, /history | 3 | Ã” "Xá»­ lÃ­ lá»‡nh: /exit, /help, /clear, /history" |
| --- | --- | --- | --- |
| **III. Xá»­ lÃ½ CÃ¢u há»i & Gá»i API (Nghiá»‡p vá»¥ chÃ­nh)** | Chuáº©n bá»‹ vÃ  gá»­i request Ä‘áº¿n AI | 3-4 | **Gá»¬I YÃŠU Cáº¦U VÃ€ NHáº¬N PHáº¢N Há»’I** |
| 6. LÆ°u tin nháº¯n vÃ o lá»‹ch sá»­ | Implement Message class, lÆ°u vÃ o vector | 3 | Ã” "LÆ°u cÃ¢u há»i vÃ o lá»‹ch sá»­" |
| 7. Chuáº©n bá»‹ dá»¯ liá»‡u gá»­i server | Build JSON: system prompt + lá»‹ch sá»­ + cÃ¢u há»i | 3-4 | Ã” "Chuáº©n bá»‹ dá»¯ liá»‡u gá»­i vá» server..." |
| 8. ÄÃ³ng gÃ³i JSON format | JSON serialization vá»›i nlohmann/json | 3-4 | Ã” "ÄÃ³ng gÃ³i thÃ nh JSON format" |
| 9. Gá»­i HTTP POST request | Sá»­ dá»¥ng libcurl, setup headers, timeout | 4 | Ã” "Gá»­i HTTP POS request tá»›i Ollama API..." |
| --- | --- | --- | --- |
| **IV. Streaming Response (TÃ­nh nÄƒng ná»•i báº­t)** | Nháº­n vÃ  hiá»ƒn thá»‹ real-time | 4-5 | **VÃ’NG Láº¶P STREAMING & HIá»‚N THá»Š** |
| 10. Nháº­n streaming tá»« server | Implement StreamCallback function | 4 | Ã” "Server nháº­n pháº£n há»“i dáº¡ng streaming" â†’ "Chatbot nháº­n chunk..." |
| 11. Parse JSON chunk | Parse NDJSON trong callback | 4 | Ã” "Parse JSON chunk nháº­n Ä‘Æ°á»£c tá»« callback" |
| 12. Xá»­ lÃ½ lá»—i parse | Try-catch, handle lá»—i, bá» qua chunk lá»—i | 5 | Decision â—‡ "CÃ³ lá»—i khi parse JSON?" |
| 13. TrÃ­ch xuáº¥t vÃ  hiá»ƒn thá»‹ ná»™i dung | Láº¥y content, cout real-time | 4-5 | Ã” "TrÃ­ch xuáº¥t ná»™i dung vÃ  hiá»ƒn thá»‹..." |
| 14. LÆ°u cÃ¢u tráº£ lá»i vÃ o lá»‹ch sá»­ | LÆ°u full response vÃ o vector | 5 | Ã” "LÆ°u cÃ¢u tráº£ lá»i Ä‘áº§y Ä‘á»§ vÃ o lá»‹ch sá»­" |
| --- | --- | --- | --- |
| **V. HoÃ n thiá»‡n/Test/Deployment** | Testing, debug, optimize | 5-6 | **Äáº¢M Báº¢O CHáº¤T LÆ¯á»¢NG & TÃ€I LIá»†U** |
| 15. Testing & Debug | Test tá»«ng chá»©c nÄƒng, fix bugs | 5 | Test toÃ n bá»™ flowchart |
| 16. Documentation | Viáº¿t README, bÃ¡o cÃ¡o | 6 | HoÃ n thiá»‡n tÃ i liá»‡u dá»± Ã¡n |


## 4. CHá»¨NG MINH KHáº¢ THI 
### 4.1 CHá»¨NG MINH Báº°NG FLOWCHART

![Flowchart chá»©ng minh kháº£ thi](<Flowchart_POC.png>)

### 4.2 CHáº Y DEMO CHÆ¯Æ NG TRÃŒNH Káº¾T Ná»I Vá»šI AI SERVER 
### 4.2.1 Táº O SERVER DÃ™NG CHO VIá»†C THá»°C HIá»†N CHATBOT
- CÃ¡c bÆ°á»›c táº¡o ra 1 server thÃ´ng qua Kaggle Notebook

``` Bash
!sudo apt update
!sudo apt install -y pciutils
!curl -fsSL https://ollama.com/install.sh | sh

import os
env = os.environ.copy()
env["OLLAMA_HOST"] = "0.0.0.0"
env["OLLAMA_ORIGINS"] = "*"

import subprocess
def run_ollama_serve():
  subprocess.Popen(["ollama", "serve"], env=env)

import threading
thread = threading.Thread(target=run_ollama_serve)
thread.start()

import time
time.sleep(5)

!ollama pull gpt-oss:20b
```

``` Bash
!curl http://localhost:11434/api/generate -d '{ "model": "gpt-oss:20b", "prompt": "Who are you?", "stream": false}'
```
``` Bash
%pip install pyngrok
from pyngrok import ngrok

from kaggle_secrets import UserSecretsClient
user_secrets = UserSecretsClient()
ngrok_api_key = user_secrets.get_secret("ngrok-api-key")
ngrok.set_auth_token(ngrok_api_key) 

port = 11434 
public_url = ngrok.connect(port).public_url
print(f" * ngrok tunnel {public_url} -> http://127.0.0.1:{port}")
```

``` Bash
!curl https://dionna-squarelike-centrically.ngrok-free.dev/api/generate -d '{ "model": "gpt-oss:20b", "prompt": "Who are you?", "stream": false}'
```

``` Bash
ngrok.kill()
```
- Äá»‹a chá»‰ cá»§a server
``` Bash
https://dionna-squarelike-centrically.ngrok-free.dev/api/generate
```
### 4.2.2 BIÃŠN Dá»ŠCH CHÆ¯Æ NG TRÃŒNH DEMO Báº°NG NGÃ”N NGá»® C++
```Bash
$ g++ -std=c++23 demo_chat.cpp -lcurl -o ./out/app
```
```Bash
$ ./out/app
```
### 4.3 OUTPUT Cá»¦A DEMO
### 4.3.1 Náº¾U Káº¾T Ná»I THÃ€NH CÃ”NG 
``` BASH
=== TEST Káº¾T Ná»I OLLAMA SERVER ===

ğŸ”— Äang káº¿t ná»‘i tá»›i: https://dionna-squarelike-centrically.ngrok-free.dev/api/chat
â³ Vui lÃ²ng Ä‘á»£i...

ğŸ“Š HTTP Status Code: 200

âœ… Káº¾T Ná»I THÃ€NH CÃ”NG!

ğŸ“¥ Response tá»« server:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{"model":"gpt-oss:20b","created_at":"2025-11-17T10:13:11.832359739Z","message":{"role":"assistant","content":"Hello! ğŸ‘‹ How can I help you today?","thinking":"We have a simple greeting. We should respond with a friendly greeting, maybe ask how can help."},"done":true,"done_reason":"stop","total_duration":1404229449,"load_duration":321655161,"prompt_eval_count":68,"prompt_eval_duration":87370477,"eval_count":41,"eval_duration":958191553}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ‰ Server hoáº¡t Ä‘á»™ng tá»‘t! CÃ³ thá»ƒ cháº¡y chatbot.

=== Káº¾T THÃšC TEST ===
```
### 4.3.2 Náº¾U Káº¾T Ná»I THáº¤T Báº I
``` BASH
=== TEST Káº¾T Ná»I OLLAMA SERVER ===

 Äang káº¿t ná»‘i tá»›i: https://dionna-squarelike-centrically.ngrok-free.dev/api/chat
 Vui lÃ²ng Ä‘á»£i...

ğŸ“Š HTTP Status Code: 404

  Káº¾T Ná»I KHÃ”NG THÃ€NH CÃ”NG


=== Káº¾T THÃšC TEST ===
```
## 5. QUY TRÃŒNH LÃ€M VIá»†C

Äá»ƒ dá»± Ã¡n luÃ´n á»•n Ä‘á»‹nh, dá»… kiá»ƒm soÃ¡t vÃ  thuáº­n tiá»‡n má»Ÿ rá»™ng sau nÃ y, cáº§n pháº£i Ã¡p dá»¥ng má»™t quy trÃ¬nh rÃµ rÃ ng.

### 5.1. QUáº¢N LÃ MÃƒ NGUá»’N
Sá»­ dá»¥ng **Git** vÃ  **GitHub** Ä‘á»ƒ quáº£n lÃ½ phiÃªn báº£n.

- **Repository:** Má»™t repo duy nháº¥t chá»©a toÃ n bá»™ mÃ£ nguá»“n vá»›i Ä‘Æ°á»ng dáº«n
```Bash
https://github.com/QuangPhat101/OllamaProject
```
- **Branching:**  
  - NhÃ¡nh `main` luÃ´n giá»¯ tráº¡ng thÃ¡i á»•n Ä‘á»‹nh.  
  - Má»—i tÃ­nh nÄƒng má»›i Ä‘Æ°á»£c phÃ¡t triá»ƒn trÃªn nhÃ¡nh riÃªng `feature/...`.
- **Pull Request & tá»± review:**  
  Sau khi hoÃ n thÃ nh má»™t tÃ­nh nÄƒng, táº¡o Pull Request Ä‘á»ƒ kiá»ƒm tra láº¡i:  
  - Kiá»ƒm tra logic hoáº¡t Ä‘á»™ng.  
  - Äáº£m báº£o tuÃ¢n thá»§ convention.  
  - Refactor náº¿u cáº§n.  
  Viá»‡c nÃ y giÃºp mÃ£ sáº¡ch, cÃ³ tá»• chá»©c vÃ  giáº£m thiá»ƒu lá»—i.

### 5.2. CÃCH Tá»” CHá»¨C 
Ãp dá»¥ng kiáº¿n trÃºc **Layered Architecture**:

- **UI layer:** Xá»­ lÃ½ giao diá»‡n, nháº­p/xuáº¥t dá»¯ liá»‡u.
- **BLL layer:** Chá»©a toÃ n bá»™ logic nghiá»‡p vá»¥, OOP, thuáº­t toÃ¡n.
- **DAL layer:** Äá»c/ghi dá»¯ liá»‡u (file, cÆ¡ sá»Ÿ dá»¯ liá»‡u...).

Má»—i tÃ­nh nÄƒng Ä‘Æ°á»£c thá»±c hiá»‡n theo thá»© tá»±:
1. XÃ¡c Ä‘á»‹nh yÃªu cáº§u tá»« giao diá»‡n.  
2. Viáº¿t chá»©c nÄƒng tÆ°Æ¡ng á»©ng á»Ÿ BLL.  
3. Bá»• sung xá»­ lÃ½ dá»¯ liá»‡u á»Ÿ DAL náº¿u cáº§n.

CÃ¡ch lÃ m nÃ y giÃºp cÃ¡c pháº§n káº¿t ná»‘i rÃµ rÃ ng, dá»… báº£o trÃ¬ vÃ  má»Ÿ rá»™ng.

### 5.3. THEO DÃ•I TIáº¾N Äá»˜ CÃ”NG VIá»†C
Sá»­ dá»¥ng **Kanban** (Trello hoáº·c GitHub Projects) Ä‘á»ƒ quáº£n lÃ½ cÃ´ng viá»‡c:

- **To Do** â€“ viá»‡c cáº§n lÃ m  
- **In Progress** â€“ Ä‘ang thá»±c hiá»‡n  
- **In Review** â€“ Ä‘Ã£ hoÃ n thÃ nh code, Ä‘ang kiá»ƒm tra láº¡i  
- **Done** â€“ hoÃ n táº¥t  

Cuá»‘i tuáº§n, xem láº¡i tiáº¿n Ä‘á»™ vÃ  Ä‘iá»u chá»‰nh káº¿ hoáº¡ch náº¿u cáº§n.

---

## 6. CÃCH Táº O MÃƒ NGUá»’N CHáº¤T LÆ¯á»¢NG

### 6.1. CODING CONVENTION
Ãp dá»¥ng quy táº¯c rÃºt gá»n tá»«:
- C++ Core Guidelines  
- Google C++ Style Guide  
- CÃ¡c nguyÃªn táº¯c láº­p trÃ¬nh tá»‘t tá»« giáº£ng viÃªn

#### 6.1.1. QUY Táº®C Äáº¶T TÃŠN
- **Class/Struct:** `PascalCase`
- **HÃ m:** `camelCase`
- **Thuá»™c tÃ­nh:** `_camelCase`
- **Biáº¿n cá»¥c bá»™:** `camelCase`
- **Háº±ng sá»‘:** `ALL_UPPERCASE`  
- TrÃ¡nh magic numbers.

#### 6.1.2. QUY Táº®C Äá»ŠNH Dáº NG
- Thá»¥t lá» 4 spaces (khÃ´ng dÃ¹ng tab).  
- Dáº¥u `{` Ä‘áº·t cuá»‘i dÃ²ng lá»‡nh Ä‘iá»u kiá»‡n hoáº·c hÃ m.  
- LuÃ´n cÃ³ khoáº£ng tráº¯ng quanh toÃ¡n tá»­ vÃ  sau dáº¥u pháº©y.  
- TrÃ¡nh biá»ƒu thá»©c gÃ¢y nháº§m láº«n (vd: `a[i] = i++`).  
- Æ¯u tiÃªn `if (ptr)` thay vÃ¬ `if (ptr != nullptr)`.

#### 6.1.3. Tá»” CHá»¨C FILE
- TÃ¡ch riÃªng `.h` vÃ  `.cpp`.  
- Thá»© tá»± include: STL â†’ thÆ° viá»‡n ngoÃ i â†’ file ná»™i bá»™.  
- LuÃ´n dÃ¹ng include guards.  
- KhÃ´ng dÃ¹ng `using namespace std;`.

#### 6.1.4. Táº O COMMENT COMMENT
- Viáº¿t comment theo Doxygen cho class vÃ  hÃ m.  
- Chá»‰ comment **vÃ¬ sao**, khÃ´ng comment **cÃ¡i gÃ¬**.

#### 6.1.5. CÃC QUY Táº®C KHÃC
- DÃ¹ng `nullptr` thay `NULL`.  
- Khai bÃ¡o má»—i biáº¿n má»™t dÃ²ng.  
- TrÃ¡nh `std::endl`.  
- CÃ³ thá»ƒ dÃ¹ng `std::expected` thay `try/catch`.

---

## 6.2. NGUYÃŠN Táº®C THIáº¾T Káº¾

### 6.2.1. SOLID
Ãp dá»¥ng Ä‘áº§y Ä‘á»§ 5 nguyÃªn táº¯c Ä‘á»ƒ code dá»… má»Ÿ rá»™ng vÃ  báº£o trÃ¬:
- **SRP** â€“ Má»—i class chá»‰ lÃ m má»™t viá»‡c.  
- **OCP** â€“ Má»Ÿ rá»™ng dá»…, Ã­t sá»­a code cÅ©.  
- **LSP** â€“ Lá»›p con thay tháº¿ Ä‘Æ°á»£c lá»›p cha.  
- **ISP** â€“ Interface nhá», Ä‘Ãºng má»¥c Ä‘Ã­ch.  
- **DIP** â€“ Lá»›p cáº¥p cao phá»¥ thuá»™c abstraction, khÃ´ng phá»¥ thuá»™c chi tiáº¿t.

### 6.2.2. KISS
Æ¯u tiÃªn giáº£i phÃ¡p Ä‘Æ¡n giáº£n nháº¥t cÃ³ thá»ƒ.

### 6.2.3. DRY
KhÃ´ng láº·p láº¡i logic â€“ náº¿u tháº¥y láº·p, refactor ngay.

---

## 6.3. QUY Táº®C TESTING

### 6.3.1. UNIT TEST
Sá»­ dá»¥ng **Google Test** Ä‘á»ƒ kiá»ƒm tra tá»«ng class vÃ  hÃ m.  
Viáº¿t test song song vá»›i code Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh Ä‘Ãºng Ä‘áº¯n vÃ  giáº£m lá»—i.

### 6.3.2. MANUAL TEST
Sau khi tÃ­ch há»£p cÃ¡c layer, cháº¡y thá»­ cÃ¡c ká»‹ch báº£n ngÆ°á»i dÃ¹ng Ä‘á»ƒ kiá»ƒm tra toÃ n bá»™ há»‡ thá»‘ng hoáº¡t Ä‘á»™ng nhÆ° mong Ä‘á»£i.

---

## 6.4. KIáº¾N TRÃšC MÃƒ NGUá»’N
Ãp dá»¥ng **Layered Architecture** vá»›i 3 lá»›p:

1. **UI (Presentation):** Giao diá»‡n ngÆ°á»i dÃ¹ng.  
2. **BLL (Business Logic):** Xá»­ lÃ½ nghiá»‡p vá»¥, OOP, thuáº­t toÃ¡n.  
3. **DAL (Data Access):** Äá»c/ghi dá»¯ liá»‡u.  

Kiáº¿n trÃºc nÃ y giÃºp mÃ£ rÃµ rÃ ng, dá»… test vÃ  dá»… nÃ¢ng cáº¥p (vÃ­ dá»¥: tá»« file sang database).

---

## 6.5. DESIGN PATTERN

### 6.5.1. FACADE PATTERN
Má»™t lá»›p trung gian che giáº¥u Ä‘á»™ phá»©c táº¡p cá»§a há»‡ thá»‘ng con, cung cáº¥p API Ä‘Æ¡n giáº£n cho cÃ¡c layer khÃ¡c.

### 6.5.2. SIMPLE FACTORY
Táº¡o Ä‘á»‘i tÆ°á»£ng phÃ¹ há»£p dá»±a trÃªn input mÃ  khÃ´ng Ä‘á»ƒ client biáº¿t chi tiáº¿t triá»ƒn khai.

### 6.5.3. SINGLETON
Äáº£m báº£o chá»‰ cÃ³ má»™t instance duy nháº¥t cá»§a má»™t lá»›p trong toÃ n bá»™ chÆ°Æ¡ng trÃ¬nh.